/* =========================
   AskSurgeons â€” refined mobile-first CSS
   Paste this into assets/style.css
   ========================= */

/* ========= Variables ========= */
:root{
  --primary: #007BBF;
  --primary-dark: #005a8c;
  --accent: #33a8e0;
  --text: #333333;
  --background: #f9f9f9;

  /* Composer positions (respect safe-area on notched devices) */
  --composer-left: 12px;                     /* <-- composer left gap you asked */
  --composer-right: 12px;
  --composer-bottom-with-nav: calc(80px + env(safe-area-inset-bottom));
  --composer-bottom-no-nav: calc(18px + env(safe-area-inset-bottom));
}

/* ========= Base ========= */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:"Segoe UI", Arial, sans-serif;
  background:var(--background);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding-bottom: calc(70px + env(safe-area-inset-bottom));
  -webkit-touch-callout:none;
}

/* ========= Mobile Header ========= */
.mobile-header{
  background:var(--primary);
  color:#fff;
  height:56px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 1rem;
  position:sticky;
  top:0;
  z-index:1000;
  box-shadow:0 2px 6px rgba(0,0,0,0.08);
}
.mobile-header .logo img{height:32px;width:auto}
.mobile-header .header-actions i{font-size:1.2rem;cursor:pointer;transition:color .18s}
.mobile-header .header-actions i:hover{color:var(--accent)}

/* ========= Carousel ========= */
.carousel{position:relative;overflow:hidden;height:220px;border-radius:0 0 16px 16px;box-shadow:0 4px 10px rgba(0,0,0,0.06);background:#eee}
.carousel .slides{display:flex;transition:transform .6s ease-in-out}
.carousel img{width:100%;flex-shrink:0;object-fit:cover}
.carousel .dots{position:absolute;bottom:10px;width:100%;text-align:center;z-index:10}
.carousel .dots span{display:inline-block;width:8px;height:8px;margin:0 4px;background:rgba(255,255,255,.6);border-radius:50%}
.carousel .dots .active{background:var(--primary)}

/* responsive carousel heights */
@media (max-width:380px){ .carousel{height:180px} }
@media (min-width:768px){ .carousel{height:260px} }

/* ========= Content Cards ========= */
main{padding:1rem}
.card{background:#fff;padding:1.25rem;margin-bottom:1rem;border-radius:12px;box-shadow:0 1px 6px rgba(0,0,0,0.04)}
.card h2,.card h3{color:var(--primary);margin-bottom:.6rem}
.pill-grid{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.6rem}
.pill{background:#eef7ff;color:#0b5480;border:1px solid #d5ecff;padding:.4rem .6rem;border-radius:999px;font-size:.85rem}

/* ========= Doctors list (WhatsApp-like) ========= */
.list-container{padding:0.5rem 0.75rem 6rem}
.wa-list{list-style:none;padding:0;margin:0}
.wa-item{display:flex;align-items:center;gap:.75rem;padding:.8rem;border-radius:12px;margin-bottom:.45rem;background:#fff;box-shadow:0 1px 4px rgba(0,0,0,0.04)}
.wa-item:active{transform:translateY(1px)}
.wa-avatar{width:48px;height:48px;border-radius:50%;object-fit:cover;flex-shrink:0}
.wa-body{flex:1;min-width:0}
.wa-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}
.wa-name{font-weight:600;color:#0b3b5e;font-size:.98rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.wa-sub{font-size:.86rem;color:#666;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* search bar */
.search-bar{padding:.6rem;background:var(--background);border-bottom:1px solid #eee}
.search-bar input{width:100%;padding:.7rem .9rem;border-radius:10px;border:1px solid #e5e5e5;font-size:.95rem}

/* ========= Bottom navigation (floating) ========= */
.bottom-nav{
  position:fixed;
  bottom:12px;
  left:50%;
  transform:translateX(-50%);
  width:90%;
  max-width:760px;
  height:60px;
  background:#fff;
  display:flex;
  justify-content:space-around;
  align-items:center;
  border-radius:16px;
  box-shadow:0 4px 12px rgba(0,0,0,0.12);
  z-index:1000;
  padding-bottom:env(safe-area-inset-bottom);
  -webkit-backdrop-filter:blur(6px);
  backdrop-filter:blur(6px);
}
.bottom-nav a{flex:1;text-align:center;color:#555;text-decoration:none;font-size:.8rem;padding-top:6px;-webkit-tap-highlight-color:transparent}
.bottom-nav a i{font-size:1.2rem;display:block;margin-bottom:4px}
.bottom-nav a.active{color:var(--primary);font-weight:600}
.bottom-nav a:active{transform:translateY(1px)}

/* If you want the chat page to have no bottom-nav, give body class "chat-page" */
body.chat-page .bottom-nav{display:none !important}

/* ========= Chat styles ========= */
.chat-header{
  background:var(--primary);color:#fff;display:flex;align-items:center;gap:.75rem;padding:.5rem 1rem;height:56px;position:sticky;top:0;z-index:1000
}
.chat-header .avatar{width:40px;height:40px;border-radius:50%;object-fit:cover}
.chat-header .meta{flex:1;min-width:0}
.chat-header .meta .name{font-weight:700;font-size:1rem}
.chat-header .meta .spec{font-size:.85rem;opacity:.9}
.chat-actions{display:flex;gap:.6rem;align-items:center}

/* chat area aligns with composer padding so everything lines up nicely */
.chat-area{
  padding:1rem;
  padding-bottom:calc(var(--composer-bottom-with-nav) + 8px);
  background:var(--background);
  min-height:calc(100vh - 56px - 70px);
  box-sizing:border-box;
}

/* message bubbles */
.msg{max-width:82%;margin-bottom:.75rem;padding:.8rem 1rem;border-radius:12px;box-shadow:0 1px 4px rgba(0,0,0,0.03)}
.msg.system{background:#fff;border-left:4px solid var(--primary);color:#222}
.msg.me{margin-left:auto;background:var(--primary);color:#fff;border-radius:12px 12px 6px 12px}
.msg .time{display:block;font-size:.75rem;color:#f0f0f0;margin-top:.35rem}
.msg.system .time{color:#666}

/* Ensure no reply buttons on non-auto messages */
.msg .reply-btn{display:none !important}

/* WA connect button (auto-reply only) */
.wa-connect-btn{
  display:inline-flex;gap:8px;align-items:center;justify-content:center;margin-top:10px;
  background:#25D366;color:#fff;border:none;padding:10px 12px;border-radius:999px;font-weight:600;
  box-shadow:0 6px 12px rgba(37,211,102,0.18);cursor:pointer;font-size:.95rem;
}
.wa-connect-btn i{font-size:1.05rem}

/* Toast */
.as-toast{position:fixed;left:50%;transform:translateX(-50%);bottom:150px;background:rgba(0,0,0,0.85);color:#fff;padding:.6rem 1rem;border-radius:999px;font-size:.95rem;opacity:0;pointer-events:none;transition:opacity .18s,transform .18s;z-index:2000}
.as-toast.show{opacity:1;transform:translateX(-50%) translateY(-6px);pointer-events:auto}

/* ========= Composer (fixed) ========= */
.composer{
  position:fixed;
  left:var(--composer-left);      /* LEFT GAP: 12px controlled here */
  right:var(--composer-right);
  bottom:var(--composer-bottom-with-nav);
  z-index:1200;
  display:flex;
  gap:.5rem;
  align-items:center;
  transition:bottom 200ms cubic-bezier(.2,.9,.2,1),transform 140ms ease;
  will-change:bottom,transform;
  box-sizing:border-box;
  padding:6px;    /* small inner padding so composer looks airy on edge */
}

/* when keyboard visible (or nav removed), add this class to move composer closer to keyboard */
.composer.nav-hidden{ bottom:var(--composer-bottom-no-nav) }

/* composer input */
.composer input{
  flex:1 1 auto;min-width:0;padding:.9rem 1rem;border-radius:999px;border:1px solid #e6e6e6;background:#fff;font-size:.95rem;box-sizing:border-box;max-height:56px
}
.composer button{background:var(--primary);color:#fff;border:none;padding:.7rem .9rem;border-radius:999px;font-size:1rem;box-shadow:0 4px 10px rgba(0,0,0,0.12)}

/* small screens composer spacing tweak */
@media (max-width:360px){ .composer{ bottom:calc(var(--composer-bottom-with-nav) + 12px) } }

/* If chat page removes bottom-nav (body.chat-page), ensure composer moves down to safe lower gap */
body.chat-page .composer{ bottom:var(--composer-bottom-no-nav) }

/* Align chat content with composer left/right gaps so messages and composer line up */
.chat-area, .chat-area .msg-content{ padding-left: calc(var(--composer-left)); padding-right: calc(var(--composer-right)); box-sizing:border-box }

/* smaller avatar on tiny screens */
@media (max-width:360px){ .wa-avatar{width:44px;height:44px} .chat-header .meta .name{font-size:.95rem} }

/* ========= Accessibility ========= */
a:focus-visible,button:focus-visible,input:focus-visible{outline:2px solid var(--accent);outline-offset:2px;border-radius:8px}
button{cursor:pointer}

/* ========= Misc small utilities ========= */
.mt8{margin-top:.8rem}
.profile{display:flex;gap:.75rem;align-items:flex-start;margin:.75rem 0}
.avatar{width:40px;height:40px;border-radius:50%;background:#eef7ff;color:#0b5480;display:flex;align-items:center;justify-content:center}
.motto{margin-top:.6rem;padding:.75rem 1rem;background:#f4fbff;border:1px solid #d5ecff;border-radius:10px;display:flex;gap:.5rem;align-items:center;color:#0b5480}
.social-links{display:flex;justify-content:space-around;margin-top:10px}
.social-links a{font-size:1.6rem;color:var(--primary);transition:transform .18s,color .18s}
.social-links a:hover{transform:scale(1.12);color:var(--primary-dark)}

